

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Tutorial: Create a Purchase Button for Marketplace Sales &mdash; Project Athena Documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/fav-icon.ico"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
  <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Tutorial: Create a Boombox" href="boombox-tutorial.html" />
    <link rel="prev" title="Tutorial: Build a Painting Set" href="primitive-painting-set-tutorial.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="https://projectathena.io/">
          

          
            
            <img src="../../_static/project-athena-logo.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search Project Athena Docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
<p style="margin-bottom: 10px; margin-top: 10px;"><a href="https://apidocs.projectathena.dev">Looking for <strong>API Reference</strong><br />Documentation?</a></p>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../home.html">HOME</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../explore.html">EXPLORE</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../create.html">CREATE</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../tools.html">Create Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../avatars.html">Avatars</a></li>
<li class="toctree-l2"><a class="reference internal" href="../wearables.html">Wearables</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../entities.html">Entities</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="create-entities.html">Create New Entities</a></li>
<li class="toctree-l3"><a class="reference internal" href="entity-appearance.html">Change How Entities Look</a></li>
<li class="toctree-l3"><a class="reference internal" href="entity-behavior.html">Define an Entity's Behavior</a></li>
<li class="toctree-l3"><a class="reference internal" href="entity-physics.html">Apply Physics to Entities</a></li>
<li class="toctree-l3"><a class="reference internal" href="material-entity.html">Add a Material Entity</a></li>
<li class="toctree-l3"><a class="reference internal" href="add-sounds.html">Add Sounds to Entities</a></li>
<li class="toctree-l3"><a class="reference internal" href="avatar-interactions.html">Define Interactions with Avatars</a></li>
<li class="toctree-l3"><a class="reference internal" href="hero-zone.html">Prioritize Zones Within Your Domain</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="tutorials.html">Entity Tutorials</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="create-spotlight.html">Tutorial: Create a Gold Spotlight</a></li>
<li class="toctree-l4"><a class="reference internal" href="create-fountain.html">Tutorial: Create a Smoke Fountain</a></li>
<li class="toctree-l4"><a class="reference internal" href="zone-tutorial.html">Tutorial: Modify a Zone Entity</a></li>
<li class="toctree-l4"><a class="reference internal" href="display-youtube.html">Tutorial: Display a YouTube Channel</a></li>
<li class="toctree-l4"><a class="reference internal" href="portal-tutorial.html">Tutorial: Create a Portal</a></li>
<li class="toctree-l4"><a class="reference internal" href="avatar-scaling-tutorial.html">Tutorial: Create an Avatar Scaling Button</a></li>
<li class="toctree-l4"><a class="reference internal" href="open-tablet-page-tutorial.html">Tutorial: Open Web Page with Entities</a></li>
<li class="toctree-l4"><a class="reference internal" href="primitive-painting-set-tutorial.html">Tutorial: Build a Painting Set</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Tutorial: Create a Purchase Button for Marketplace Sales</a></li>
<li class="toctree-l4"><a class="reference internal" href="boombox-tutorial.html">Tutorial: Create a Boombox</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../materials.html">Materials</a></li>
<li class="toctree-l2"><a class="reference internal" href="../3d-models.html">3D Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../environments.html">Environments</a></li>
<li class="toctree-l2"><a class="reference internal" href="../applications.html">Tablet Apps</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../script.html">SCRIPT</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../host.html">HOST</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute.html">CONTRIBUTE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../release-notes.html">RELEASE NOTES</a></li>
<li class="toctree-l1"><a class="reference external" href="https://apidocs.projectathena.dev">API REFERENCE</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Athena Docs</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          






















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    You are here: 
      <li><a href="../../index.html"><i class="fa fa-home"></i></a> &raquo;</li>
        
          <li><a href="../../create.html">Create</a> &raquo;</li>
        
          <li><a href="../entities.html">Entities</a> &raquo;</li>
        
          <li><a href="tutorials.html">Entity Tutorials</a> &raquo;</li>
        
      <li>Tutorial: Create a Purchase Button for Marketplace Sales</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/kasenvr/athena-docs-sphinx/blob/master/docs/source/create/entities/purchase-button-tutorial.md" class="fa fa-github"></a><a href="https://github.com/kasenvr/athena-docs-sphinx/blob/master/docs/source/create/entities/purchase-button-tutorial.md"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="tutorial-create-a-purchase-button-for-marketplace-sales">
<h1>Tutorial: Create a Purchase Button for Marketplace Sales<a class="headerlink" href="#tutorial-create-a-purchase-button-for-marketplace-sales" title="Permalink to this headline">¶</a></h1>
<p>If you are selling items on the Marketplace, you can have a space in your domain where users can easily buy your items. This could be done with a display copy of your items, an image of your item, or a purchase button for users to click.</p>
<p><strong>On This Page:</strong></p>
<ul class="simple">
<li><p><a class="reference external" href="#prerequisites">Prerequisites</a></p></li>
<li><p><a class="reference external" href="#get-an-items-marketplace-id">Get an Item’s Marketplace ID</a></p></li>
<li><p><a class="reference external" href="#write-a-purchase-item-script">Write a Purchase Item Script</a></p></li>
<li><p><a class="reference external" href="#create-an-entity-to-use-as-a-button">Create an Entity to Use as a Button</a></p></li>
</ul>
<div class="section" id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Permalink to this headline">¶</a></h2>
<p>Consider getting familiar with the following concepts before starting this tutorial:</p>
<ul class="simple">
<li><p><a class="reference external" href="create-entities.html">Create New Entities</a></p></li>
<li><p><a class="reference external" href="entity-appearance.html">Change How Entities Look</a></p></li>
<li><p><a class="reference external" href="entity-behavior.html">Define an Entity’s Behavior</a></p></li>
<li><p><a class="reference external" href="../../script/get-started-with-scripting.html">Get Started with Scripting</a></p></li>
<li><p><a class="reference external" href="../../script/client-entity-scripts.html">Client Entity Scripts</a></p></li>
<li><p><a class="reference external" href="../../script/write-scripts.html">Write Your Own Scripts</a></p></li>
<li><p><a class="reference external" href="../../script/transfer-hfc-tutorial.html#purchase-marketplace-items">Purchase Marketplace Items from Script</a></p></li>
</ul>
</div>
<div class="section" id="get-an-item-s-marketplace-id">
<h2>Get an Item’s Marketplace ID<a class="headerlink" href="#get-an-item-s-marketplace-id" title="Permalink to this headline">¶</a></h2>
<p>If you are putting up an item (in your domain) you have on sale in the Marketplace, you need to get the item’s ‘marketplaceID’. This unique identifier can be found when you view your Marketplace item in a browser window.</p>
<div class="admonition note">
    <p class="admonition-title">Note</p>
    <p> This tutorial lets you link to any item in the Marketplace, even those you don't own. If you link to another user's item, keep in mind that they will receive the proceeds from the sale.</p>
</div><ol class="simple">
<li><p>In your browser of choice, navigate to <a class="reference external" href="https://www.highfidelity.com/marketplace">www.highfidelity.com/marketplace</a>.</p></li>
<li><p>Locate the item.</p></li>
<li><p>Copy the multi-number identifier at the end of the URL in the address bar of your browser. This is your item’s ‘marketplaceID’.</p></li>
</ol>
</div>
<div class="section" id="write-a-purchase-item-script">
<h2>Write a Purchase Item Script<a class="headerlink" href="#write-a-purchase-item-script" title="Permalink to this headline">¶</a></h2>
<p>To make our button work and actually sell an item, we need to attach a client entity script to it. In this example, <a class="reference external" href="https://hifi-scripting-101.glitch.me/entity-client-script-buy-item.js">buy-item.js</a>, the script opens a specified Marketplace page. You can use it as-is, modify it, or <a class="reference external" href="../../script/write-scripts.html">write your own script</a> to suit your needs.</p>
<p>The buy-item.js script we’ve used:</p>
<ul class="simple">
<li><p>Uses High Fidelity’s <a class="reference external" href="https://apidocs.highfidelity.com/">JavaScript API</a> to determine when a user clicks with the mouse or triggers the entity using hand controllers.</p></li>
<li><p>Opens the user’s Tablet to the purchase page if there is a valid ‘marketplaceID’ specified in the ‘userdata’ field of the entity that is clicked or triggered.</p></li>
</ul>
</div>
<div class="section" id="create-an-entity-to-use-as-a-button">
<h2>Create an Entity to Use as a Button<a class="headerlink" href="#create-an-entity-to-use-as-a-button" title="Permalink to this headline">¶</a></h2>
<p>The entity you create for your button has to be <a class="reference external" href="entity-behavior.html#set-an-entity-to-trigger-scripts">triggerable</a> so that the script can detect when you trigger or push the button with your hand controllers.</p>
<ol>
<li><p>In Interface, pull up your HUD or Tablet and go to <strong>Create</strong>.</p></li>
<li><p><a class="reference external" href="create-entities.html">Create an entity</a> to be used as a button. This can be a 3D model, cube, or sphere entity.</p></li>
<li><p>Go to the ‘Properties’ tab and scroll down to ‘Behavior’.</p></li>
<li><p>Select ‘Code’ from the drop down menu in the ‘User Data’ property. Add the following line, replacing ‘YOUR_MARKETPLACE_ID_HERE’ with the ‘marketplaceID’ that you copied in the first step of the tutorial:</p>
<div class="highlight-JSON notranslate"><div class="highlight"><pre><span></span>{&#39;marketplaceID&#39; : &#39;YOUR_MARKETPLACEID_HERE&#39;}
</pre></div>
</div>
</li>
<li><p>Next to ‘Script’, paste the script URL. In this case, it is ‘<a class="reference external" href="https://hifi-scripting-101.glitch.me/entity-client-script-buy-item.js">buy-item.js</a>’.</p></li>
<li><p>Scroll down to ‘Triggerable’ and ensure that ‘Triggerable’ is selected.</p></li>
<li><p>When you close the <strong>Create</strong> app, test your script by clicking or triggering the button to  open the item’s purchase page. If a user has already purchased the item, they will be shown a page that allows them to re-purchase another copy or view it in their <strong>Inventory</strong>.</p></li>
</ol>
<p><strong>See Also</strong></p>
<ul class="simple">
<li><p><a class="reference external" href="create-entities.html">Create New Entities</a></p></li>
<li><p><a class="reference external" href="entity-appearance.html">Change How Entities Look</a></p></li>
<li><p><a class="reference external" href="entity-behavior.html">Define an Entity’s Behavior</a></p></li>
<li><p><a class="reference external" href="../../script/get-started-with-scripting.html">Get Started with Scripting</a></p></li>
<li><p><a class="reference external" href="../../script/client-entity-scripts.html">Client Entity Scripts</a></p></li>
<li><p><a class="reference external" href="../../script/write-scripts.html">Write Your Own Scripts</a></p></li>
<li><p><a class="reference external" href="../../explore/interact.html">Interact with Your Environment</a></p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="boombox-tutorial.html" class="btn btn-neutral float-right" title="Tutorial: Create a Boombox" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="primitive-painting-set-tutorial.html" class="btn btn-neutral float-left" title="Tutorial: Build a Painting Set" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, High Fidelity. © Copyright 2020, Project Athena.

    </p>
  </div> 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  

   

</body>
</html>